<script src="../../bower_components/page/page.js"></script>

<script>
  window.addEventListener('WebComponentsReady', function() {

    page('/', function () {
      page('/devices');
    });

    page('/web-remote', function () {
      page('/devices');
    });

    page('/devices', function() {
      if(app.token === null){
        page('/login');
      }else{
        app.route = 'devices';
      }
    });

    page('/login', function () {
      if(app.token !== null){
        page('/devices');
      }else{
        app.route = 'login';
      }
    });

    page('/remote', function() {
      if(app.device === null) {
        if(app.token === null){
          page('/login');
        }else{
          page('/devices');
        }
      }else{
        app.route = 'remote';
      }
    });

    // add #! before urls
    page({
      hashbang: true
    });

  });
</script>
